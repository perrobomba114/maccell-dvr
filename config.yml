mqtt:
  enabled: False

logger:
  default: info
  logs:
    frigate.mqtt: error

detectors:
  ov:
    type: cpu

# Configuración Global de Grabación (DESACTIVADA)
record:
  enabled: False
  retain:
    days: 0
    mode: all

# Snapshots (Imágenes de eventos)
snapshots:
  enabled: True
  retain:
    default: 15

# --- GO2RTC: Motor de Streaming (Optimizado para Redes Remotas) ---
go2rtc:
  streams:
    # NOTA: #video=copy#audio=copy#transport=tcp fuerza el uso de TCP para evitar pixelado en red
    
    # --- SUCURSAL 1 (Local - 192.168.100.215) ---
    MACCELL_1_01: rtsp://admin:Cada0108@192.168.100.215:554/cam/realmonitor?channel=1&subtype=0#video=copy#audio=copy#transport=tcp
    MACCELL_1_01_sd: rtsp://admin:Cada0108@192.168.100.215:554/cam/realmonitor?channel=1&subtype=1#video=copy#audio=copy#transport=tcp
    
    MACCELL_1_02: rtsp://admin:Cada0108@192.168.100.215:554/cam/realmonitor?channel=2&subtype=0#video=copy#audio=copy#transport=tcp
    MACCELL_1_02_sd: rtsp://admin:Cada0108@192.168.100.215:554/cam/realmonitor?channel=2&subtype=1#video=copy#audio=copy#transport=tcp
    
    MACCELL_1_03: rtsp://admin:Cada0108@192.168.100.215:554/cam/realmonitor?channel=3&subtype=0#video=copy#audio=copy#transport=tcp
    MACCELL_1_03_sd: rtsp://admin:Cada0108@192.168.100.215:554/cam/realmonitor?channel=3&subtype=1#video=copy#audio=copy#transport=tcp
    
    MACCELL_1_04: rtsp://admin:Cada0108@192.168.100.215:554/cam/realmonitor?channel=4&subtype=0#video=copy#audio=copy#transport=tcp
    MACCELL_1_04_sd: rtsp://admin:Cada0108@192.168.100.215:554/cam/realmonitor?channel=4&subtype=1#video=copy#audio=copy#transport=tcp
    
    MACCELL_1_05: rtsp://admin:Cada0108@192.168.100.215:554/cam/realmonitor?channel=5&subtype=0#video=copy#audio=copy#transport=tcp
    MACCELL_1_05_sd: rtsp://admin:Cada0108@192.168.100.215:554/cam/realmonitor?channel=5&subtype=1#video=copy#audio=copy#transport=tcp
    
    MACCELL_1_06: rtsp://admin:Cada0108@192.168.100.215:554/cam/realmonitor?channel=6&subtype=0#video=copy#audio=copy#transport=tcp
    MACCELL_1_06_sd: rtsp://admin:Cada0108@192.168.100.215:554/cam/realmonitor?channel=6&subtype=1#video=copy#audio=copy#transport=tcp
    
    MACCELL_1_07: rtsp://admin:Cada0108@192.168.100.215:554/cam/realmonitor?channel=7&subtype=0#video=copy#audio=copy#transport=tcp
    MACCELL_1_07_sd: rtsp://admin:Cada0108@192.168.100.215:554/cam/realmonitor?channel=7&subtype=1#video=copy#audio=copy#transport=tcp
    
    MACCELL_1_08: rtsp://admin:Cada0108@192.168.100.215:554/cam/realmonitor?channel=8&subtype=0#video=copy#audio=copy#transport=tcp
    MACCELL_1_08_sd: rtsp://admin:Cada0108@192.168.100.215:554/cam/realmonitor?channel=8&subtype=1#video=copy#audio=copy#transport=tcp

    # --- SUCURSAL 2 (Remota - 192.168.0.45) ---
    MACCELL_2_01: rtsp://admin:Cada0108@192.168.0.45:554/cam/realmonitor?channel=1&subtype=0#video=copy#audio=copy#transport=tcp
    MACCELL_2_01_sd: rtsp://admin:Cada0108@192.168.0.45:554/cam/realmonitor?channel=1&subtype=1#video=copy#audio=copy#transport=tcp
    
    MACCELL_2_02: rtsp://admin:Cada0108@192.168.0.45:554/cam/realmonitor?channel=2&subtype=0#video=copy#audio=copy#transport=tcp
    MACCELL_2_02_sd: rtsp://admin:Cada0108@192.168.0.45:554/cam/realmonitor?channel=2&subtype=1#video=copy#audio=copy#transport=tcp
    
    MACCELL_2_03: rtsp://admin:Cada0108@192.168.0.45:554/cam/realmonitor?channel=3&subtype=0#video=copy#audio=copy#transport=tcp
    MACCELL_2_03_sd: rtsp://admin:Cada0108@192.168.0.45:554/cam/realmonitor?channel=3&subtype=1#video=copy#audio=copy#transport=tcp
    
    MACCELL_2_04: rtsp://admin:Cada0108@192.168.0.45:554/cam/realmonitor?channel=4&subtype=0#video=copy#audio=copy#transport=tcp
    MACCELL_2_04_sd: rtsp://admin:Cada0108@192.168.0.45:554/cam/realmonitor?channel=4&subtype=1#video=copy#audio=copy#transport=tcp
    
    MACCELL_2_05: rtsp://admin:Cada0108@192.168.0.45:554/cam/realmonitor?channel=5&subtype=0#video=copy#audio=copy#transport=tcp
    MACCELL_2_05_sd: rtsp://admin:Cada0108@192.168.0.45:554/cam/realmonitor?channel=5&subtype=1#video=copy#audio=copy#transport=tcp
    
    MACCELL_2_06: rtsp://admin:Cada0108@192.168.0.45:554/cam/realmonitor?channel=6&subtype=0#video=copy#audio=copy#transport=tcp
    MACCELL_2_06_sd: rtsp://admin:Cada0108@192.168.0.45:554/cam/realmonitor?channel=6&subtype=1#video=copy#audio=copy#transport=tcp
    
    MACCELL_2_07: rtsp://admin:Cada0108@192.168.0.45:554/cam/realmonitor?channel=7&subtype=0#video=copy#audio=copy#transport=tcp
    MACCELL_2_07_sd: rtsp://admin:Cada0108@192.168.0.45:554/cam/realmonitor?channel=7&subtype=1#video=copy#audio=copy#transport=tcp
    
    MACCELL_2_08: rtsp://admin:Cada0108@192.168.0.45:554/cam/realmonitor?channel=8&subtype=0#video=copy#audio=copy#transport=tcp
    MACCELL_2_08_sd: rtsp://admin:Cada0108@192.168.0.45:554/cam/realmonitor?channel=8&subtype=1#video=copy#audio=copy#transport=tcp

    # --- SUCURSAL 3 (Placeholder) ---
    # MACCELL_3_01: rtsp://usuario:pass@IP:554/cam...#transport=tcp

    # --- SUCURSAL 4 (Placeholder) ---
    # MACCELL_4_01: rtsp://usuario:pass@IP:554/cam...#transport=tcp

cameras:
  # Definimos plantilla para todas las cámaras
  # (Menos código repetido y configuración consistente)
  _template_cam: &template_cam
    detect:
      width: 352
      height: 288
      fps: 5
      # enabled: True # Para DEBUG: Poner False si quieres solo ver video sin procesar
    
    live:
      height: 720 # Fuerza al reproductor a renderizar en HD (texto pequeño, video grande)
      quality: 31 # Máxima calidad MJPEG

    # --- OBJETOS A DETECTAR ---
    objects:
      track:
        - person
        # - car  # Descomentar si hay estacionamiento
      
      # MÁSCARAS DE OBJETOS (Para ignorar cosas estáticas que parecen personas)
      # Pega aquí las coordenadas desde la UI (Debug -> Mask & Zone Creator -> Object Mask)
      # mask: 0,0,100,0,100,100...

    # --- DETECCIÓN DE MOVIMIENTO ---
    motion:
      # MÁSCARAS DE MOVIMIENTO (Para ignorar árboles, timestamps, tráfico lejano)
      # Pega aquí las coordenadas desde la UI (Debug -> Mask & Zone Creator -> Motion Mask)
      # mask: 0,0,100,0,100,100...
      threshold: 25 # Sensibilidad (más alto = menos sensible)

    # --- ZONAS (Para contar personas o restringir alertas) ---
    # Crea las zonas en la UI y pega las coordenadas aquí.
    zones:
      # Ejemplo: Zona de Caja (Contará personas dentro de esta área)
      # zona_caja:
      #   coordinates: 0,0,100,0,100,100,0,100
      #   objects:
      #     - person
      
      # Ejemplo: Zona de Entrada (Para alertas de ingreso)
      # zona_entrada:
      #   coordinates: 200,200,300,200,300,300,200,300
      
    # Para DEBUG visual en la grabación (activar bounding boxes)
    snapshots:
      enabled: True
      bounding_box: True
      crop: False

  # --- MACCELL 1 ---
  MACCELL_1_01:
    ffmpeg:
      inputs:
        - path: rtsp://127.0.0.1:8554/MACCELL_1_01_sd
          roles: [detect]
        - path: rtsp://127.0.0.1:8554/MACCELL_1_01
          roles: [] # Vacio = Solo Live View
    <<: *template_cam

  MACCELL_1_02:
    ffmpeg:
      inputs:
        - path: rtsp://127.0.0.1:8554/MACCELL_1_02_sd
          roles: [detect]
        - path: rtsp://127.0.0.1:8554/MACCELL_1_02
          roles: []
    <<: *template_cam

  MACCELL_1_03:
    ffmpeg:
      inputs:
        - path: rtsp://127.0.0.1:8554/MACCELL_1_03_sd
          roles: [detect]
        - path: rtsp://127.0.0.1:8554/MACCELL_1_03
          roles: []
    <<: *template_cam

  MACCELL_1_04:
    ffmpeg:
      inputs:
        - path: rtsp://127.0.0.1:8554/MACCELL_1_04_sd
          roles: [detect]
        - path: rtsp://127.0.0.1:8554/MACCELL_1_04
          roles: []
    <<: *template_cam

  MACCELL_1_05:
    ffmpeg:
      inputs:
        - path: rtsp://127.0.0.1:8554/MACCELL_1_05_sd
          roles: [detect]
        - path: rtsp://127.0.0.1:8554/MACCELL_1_05
          roles: []
    <<: *template_cam

  MACCELL_1_06:
    ffmpeg:
      inputs:
        - path: rtsp://127.0.0.1:8554/MACCELL_1_06_sd
          roles: [detect]
        - path: rtsp://127.0.0.1:8554/MACCELL_1_06
          roles: []
    <<: *template_cam

  MACCELL_1_07:
    ffmpeg:
      inputs:
        - path: rtsp://127.0.0.1:8554/MACCELL_1_07_sd
          roles: [detect]
        - path: rtsp://127.0.0.1:8554/MACCELL_1_07
          roles: []
    <<: *template_cam

  MACCELL_1_08:
    ffmpeg:
      inputs:
        - path: rtsp://127.0.0.1:8554/MACCELL_1_08_sd
          roles: [detect]
        - path: rtsp://127.0.0.1:8554/MACCELL_1_08
          roles: []
    <<: *template_cam

  # --- MACCELL 2 ---
  MACCELL_2_01:
    ffmpeg:
      inputs:
        - path: rtsp://127.0.0.1:8554/MACCELL_2_01_sd
          roles: [detect]
        - path: rtsp://127.0.0.1:8554/MACCELL_2_01
          roles: []
    <<: *template_cam

  MACCELL_2_02:
    ffmpeg:
      inputs:
        - path: rtsp://127.0.0.1:8554/MACCELL_2_02_sd
          roles: [detect]
        - path: rtsp://127.0.0.1:8554/MACCELL_2_02
          roles: []
    <<: *template_cam

  MACCELL_2_03:
    ffmpeg:
      inputs:
        - path: rtsp://127.0.0.1:8554/MACCELL_2_03_sd
          roles: [detect]
        - path: rtsp://127.0.0.1:8554/MACCELL_2_03
          roles: []
    <<: *template_cam

  MACCELL_2_04:
    ffmpeg:
      inputs:
        - path: rtsp://127.0.0.1:8554/MACCELL_2_04_sd
          roles: [detect]
        - path: rtsp://127.0.0.1:8554/MACCELL_2_04
          roles: []
    <<: *template_cam

  MACCELL_2_05:
    ffmpeg:
      inputs:
        - path: rtsp://127.0.0.1:8554/MACCELL_2_05_sd
          roles: [detect]
        - path: rtsp://127.0.0.1:8554/MACCELL_2_05
          roles: []
    <<: *template_cam

  MACCELL_2_06:
    ffmpeg:
      inputs:
        - path: rtsp://127.0.0.1:8554/MACCELL_2_06_sd
          roles: [detect]
        - path: rtsp://127.0.0.1:8554/MACCELL_2_06
          roles: []
    <<: *template_cam

  MACCELL_2_07:
    ffmpeg:
      inputs:
        - path: rtsp://127.0.0.1:8554/MACCELL_2_07_sd
          roles: [detect]
        - path: rtsp://127.0.0.1:8554/MACCELL_2_07
          roles: []
    <<: *template_cam

  MACCELL_2_08:
    ffmpeg:
      inputs:
        - path: rtsp://127.0.0.1:8554/MACCELL_2_08_sd
          roles: [detect]
        - path: rtsp://127.0.0.1:8554/MACCELL_2_08
          roles: []
    <<: *template_cam